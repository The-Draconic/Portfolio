Amnesiac Adventures

You got amnesia and were mysteriously brought into a strange dungeon and your goal is to escape the dungeon any means necessary.
I have passed the requirements for this assignment by: (1) There is a locked door just north of the starting room, (2) There is a hidden object you get from the goblin when you give it an apple, (3) There is a rusty sword that needs to be repaired and is repaired by a blacksmith after giving him a bottle of alcohol, (4) There is a background stat representing limited time to escape the dungeon and when that time runs out, you die.
Below are three different sample runs and efficient as possible. The third one is part of another possible playthrough except for a bug that will be fixed (hopefully):

/* Run #1 Bad Ending (Normal Ending) */

e, n, resist, take(alcohol), s, w, w, w, take(sword), e, n, s, e, e, attack, e, take(key), w, w, n, attack, n

This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
It looks hungry.
The exit is to the west.

You see a dim lighted room, only lit from torches next to the
only door in the room. A table in the middle of the room has
a bottle of alcohol. It seems to call out to you. Maybe you
could use a drink. After all, this is a lot of stress for an
amnesiac lost in a dungeon fighting for their life.
Do you drink the bottle or do you resist the urge?
enter 'drink' to drink or 'resist' to resist.
The exit is to the south.

There is a alcohol here.

You decide not to drink and continue with the hope of
finding a way out of here. But maybe you can take the bottle
for some kind of use.

Ok.
This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
It looks hungry.
The exit is to the west.

You are in the room you first found yourself in,
there is an exit sign above the locked door. How convenient.
There is also a note on a decaying table off to the side.
Enter 'read' to read the note.

A locked door is to the north.
Two rooms are to the east and west.
A long corridor is to the south.

This room isn't much different from the first room, plain
stone walls, torches lighting the dim room. There is a room
clanging with metal to the north and a silent room to the
west.
The exit is to the east.

This room is brightly lit with torches on all the walls.
A rusted sword stands pointed into a stone pedestal. It looks
like you could pull it out.
The exit is to the east.

There is a sword here.

You now have a rusty sword. It can't hurt anything now,
so you should find someone to repair it.

This room isn't much different from the first room, plain
stone walls, torches lighting the dim room. There is a room
clanging with metal to the north and a silent room to the
west.
The exit is to the east.

You feel that some time as passed.

The clanging gets louder as you enter the blazing room. The
blacksmith continues banging at hot metal. He sees you enter.
He says, 'Ah, I see you brought something nice. I'll take
that nice bottle of alcohol, and I'll fix your sword.'
He finishes and gives it back, good as new. The blacksmith
goes back to his smithing before you could thank him,
swigging the bottle every now and then.
The exit is to the south.

This room isn't much different from the first room, plain
stone walls, torches lighting the dim room. There is a room
clanging with metal to the north and a silent room to the
west.
The exit is to the east.

You are in the room you first found yourself in,
there is an exit sign above the locked door. How convenient.
There is also a note on a decaying table off to the side.
Enter 'read' to read the note.

A locked door is to the north.
Two rooms are to the east and west.
A long corridor is to the south.

This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
It looks hungry.
The exit is to the west.

You take your sword and easily take the live of
the goblin, blood spills on the floor.
There is no light from the room, but there is a sparkling of
metal from the light outside. That metal seems to be a key.
The exit is to the west.

There is a key here.

Ok.
This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
A pool of blood lays besides the door.
The exit is to the west.

You are in the room you first found yourself in,
there is an exit sign above the locked door. How convenient.
There is also a note on a decaying table off to the side.
Enter 'read' to read the note.

A locked door is to the north.
Two rooms are to the east and west.
A long corridor is to the south.

This room is large compared to the rest of the dungeon, and for
good reason, as a dragon lays silently in the chamber floor.
It takes notice of you and raises itself to its feet. Red
scales glow in the torchlight. Its wings spread out, although
limited by the size of the room. Large eyes seem to pierce
into you. It speaks, 'You are a new face here.' Long pauses
separate its sentences. 'Shall you be the champion to free
this dungeon of my reign? Strike me down in glorious battle
and you shall have your hard earned freedom. STRIKE!'

You feel that some time as passed.

You fight valiantly against the dragon and it falls to the
ground with a thundering thud. You have won and the exit is clear.
The exit is north

You finally made it. Light pours onto you and you feel the cool
breeze. You have found your way back into the world.
Game Over!

You have found the bad ending! You killed both the goblin,
and the dragon. You are the champion of the dungeon, but at
what cost? Can you replay and find the good ending?

Please enter the halt command.


/* Run #2 Unique Ending */

e, n, search, solve, w, n

This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
It looks hungry.
The exit is to the west.

You see a dim lighted room, only lit from torches next to the
only door in the room. A table in the middle of the room has
a bottle of alcohol. It seems to call out to you. Maybe you
could use a drink. After all, this is a lot of stress for an
amnesiac lost in a dungeon fighting for their life.
Do you drink the bottle or do you resist the urge?
enter 'drink' to drink or 'resist' to resist.
The exit is to the south.

There is a alcohol here.

You find a strange puzzle embedded into the west wall,
you could solve it if you gave some effort.
enter 'solve' to solve the puzzle.

As you solve the puzzle, the wall caves inward, revealing
a passageway. There is dim light and flashing warmth coming
from within the tunnel.

This room is large compared to the rest of the dungeon, and for
good reason, as a dragon lays silently in the chamber floor.
It takes notice of you and raises itself to its feet. Red
scales glow in the torchlight. Its wings spread out, although
limited by the size of the room. Large eyes seem to gaze into
you. It speaks, 'You are a new face here.' Long pauses
separate its sentences. 'I sense no blood on your hands. You
are kinder than most. In honor of your character, I shall let
you leave in peace. You do not deserve to be clad in unseen
chains in this cursed place.' The dragon moves its large body
to allow you to exit the dungeon.

You finally made it. Light pours onto you and you feel the cool
breeze. You have found your way back into the world.
Game Over!

You have found the unique ending! Whether or not blood was
spilt, you found the puzzle and used it to escape the dungeon.
Congratulations!.

Please enter the halt command.


/* Run #3 Peaceful Ending */

s, close_eyes, s, take(apple), n, open_eyes, n, e, e, take(key), w, w, n, n

The corridor fades from the stone walls to a bright white.
At the end is an apple just... floating there? Maybe it
could be useful.
The exit is to the north.

You now can't see anything.

You can't see.

Ok.
You can't see.

You can see again.

You are in the room you first found yourself in,
there is an exit sign above the locked door. How convenient.
There is also a note on a decaying table off to the side.
Enter 'read' to read the note.

A locked door is to the north.
Two rooms are to the east and west.
A long corridor is to the south.

This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
It looks hungry.
The exit is to the west.

You give the apple to the goblin, and it gives you
a flower before it lets you through.
There is no light from the room, but there is a sparkling of
metal from the light outside. That metal seems to be a key.
The exit is to the west.

There is a key here.

Ok.
You feel that some time as passed.
This room is not much different from the first room, plain
stone walls and torches lighting the room. There is a room
north smelling of booze, and a room with a goblin by it.
It looks satisfied.
The exit is to the west.

You are in the room you first found yourself in,
there is an exit sign above the locked door. How convenient.
There is also a note on a decaying table off to the side.
Enter 'read' to read the note.

A locked door is to the north.
Two rooms are to the east and west.
A long corridor is to the south.

This room is large compared to the rest of the dungeon, and for
good reason, as a dragon lays silently in the chamber floor.
It takes notice of you and raises itself to its feet. Red
scales glow in the torchlight. Its wings spread out, although
limited by the size of the room. Large eyes seem to gaze into
you. It speaks, 'You are a new face here.' Long pauses
separate its sentences. 'I sense no blood on your hands. You
are kinder than most. In honor of your character, I shall let
you leave in peace. You do not deserve to be clad in unseen
chains in this cursed place.' The dragon moves its large body
to allow you to exit the dungeon.

You finally made it. Light pours onto you and you feel the cool
breeze. You have found your way back into the world.
Game Over!

You have found the good ending! No blood was spilt and you
left peacefully. However, you can't help but wonder why
they were all in there.

Please enter the halt command.
